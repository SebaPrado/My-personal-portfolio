<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/png" sizes="32x32" href="/matesitodev.png" /> -->
    <link rel="icon" type="image/png" sizes="16x16" href="/matesitodev.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/matesitodev.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap"
      rel="stylesheet"
    />

    <title>Sebastian Prado</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <!-- Carga y inicializaciÃ³n segura del widget -->
    <script>
      function loadWidget(config) {
        const script = document.createElement("script");
        script.src = "http://localhost:3010/widget.js";
        script.onload = () => {
          window.initAIChat(config);
        };
        document.body.appendChild(script);
      }
    
      // Widget flotante
      loadWidget({
        apiKey: "asst_FWYpAe5YTsAi2cz8IGoKXEI9",
        position: "right"
      });
    
      // Widget embebido - esperamos a que el elemento exista
      function waitForElement(selector, callback) {
        // Primero verificamos si ya existe
        const element = document.querySelector(selector);
        if (element) {
          callback();
          return;
        }
    
        // Si no existe, observamos el DOM hasta que aparezca
        const observer = new MutationObserver(() => {
          const element = document.querySelector(selector);
          if (element) {
            callback();
            observer.disconnect(); // Dejamos de observar
          }
        });
    
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      }
    
      waitForElement("#whatsapp_widget_agro1", () => {
        loadWidget({
          apiKey: "asst_uei23IzNOmasS3m6FEa0hEJu",
          targetSelector: "#whatsapp_widget_agro1",
          openByDefault: true
        });
      });
    </script>
    
    
  </body>
</html>
